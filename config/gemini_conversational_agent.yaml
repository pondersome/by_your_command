# Gemini Conversational Agent Configuration
# 
# This agent handles natural dialogue with vision-based descriptions.
# It provides voice and text responses to user queries.
#
# Author: Karim Virani
# Date: August 2025

gemini_live_agent:
  # Agent Identification
  agent_id: "gemini_conversational"
  
  # API Configuration
  # Set GEMINI_API_KEY environment variable for security
  
  # Model Selection
  model: "models/gemini-live-2.5-flash-preview"
  
  # Voice Selection
  voice: "Kore"
  
  # Proactive Audio
  proactive_audio: false
  
  # Video Support - ENABLED for visual descriptions
  enable_video: true
  max_image_age: 5.0  # Maximum age (seconds) for an image to be considered fresh
  
  # Session Management
  session_pause_timeout: 30.0  # Seconds of silence before cycling session
  max_context_tokens: 2000
  conversation_timeout: 600.0  # 10 minutes - reset context after this
  
  # Published Topics (relative paths for namespacing) - new naming convention
  response_voice_topic: "response_voice"  # Audio responses enabled (was audio_out)
  response_text_topic: "response_text"    # Natural language transcript (was llm_transcript)
  prompt_transcript_topic: "prompt_transcript"  # User voice transcript (NEW!)
  command_detected_topic: ""  # Not used by conversational agent
  interruption_signal_topic: "interruption_signal"
  
  # Prompt Selection - Use conversational Gemini prompt
  prompt_id: "barney_conversational_gemini"
  
  # Logging
  log_level: 20  # INFO level (10=DEBUG, 20=INFO, 30=WARNING, 40=ERROR)

# Bridge Connection (WebSocket-based distributed deployment)
bridge_connection:
  type: "websocket"
  host: "localhost"
  port: 8765
  reconnect_interval: 5.0
  max_reconnect_attempts: 10
  heartbeat_interval: 30