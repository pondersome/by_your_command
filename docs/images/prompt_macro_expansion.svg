<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: PromptMacroExpansion Pages: 1 -->
<svg width="953pt" height="568pt"
 viewBox="0.00 0.00 953.00 567.95" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 563.95)">
<title>PromptMacroExpansion</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-563.95 949,-563.95 949,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_template</title>
<polygon fill="#f3e5f5" stroke="black" points="74,-404.95 74,-551.95 738,-551.95 738,-404.95 74,-404.95"/>
<text text-anchor="middle" x="406" y="-536.75" font-family="Arial" font-size="14.00">Original Template</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_first_expansion</title>
<polygon fill="#fff3e0" stroke="black" points="8,-274.95 8,-396.95 937,-396.95 937,-274.95 8,-274.95"/>
<text text-anchor="middle" x="472.5" y="-381.75" font-family="Arial" font-size="14.00">First Level Expansion</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_second_expansion</title>
<polygon fill="#e8f5e9" stroke="black" points="311,-129.95 311,-266.95 809,-266.95 809,-129.95 311,-129.95"/>
<text text-anchor="middle" x="560" y="-251.75" font-family="Arial" font-size="14.00">Second Level Expansion (Recursive)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_final</title>
<polygon fill="#e0f2f1" stroke="black" points="312,-8 312,-121.95 606,-121.95 606,-8 312,-8"/>
<text text-anchor="middle" x="459" y="-106.75" font-family="Arial" font-size="14.00">Final Expanded Prompt</text>
</g>
<!-- T -->
<g id="node1" class="node">
<title>T</title>
<path fill="#9c27b0" stroke="black" d="M552.5,-520.95C552.5,-520.95 321.5,-520.95 321.5,-520.95 315.5,-520.95 309.5,-514.95 309.5,-508.95 309.5,-508.95 309.5,-496.95 309.5,-496.95 309.5,-490.95 315.5,-484.95 321.5,-484.95 321.5,-484.95 552.5,-484.95 552.5,-484.95 558.5,-484.95 564.5,-490.95 564.5,-496.95 564.5,-496.95 564.5,-508.95 564.5,-508.95 564.5,-514.95 558.5,-520.95 552.5,-520.95"/>
<text text-anchor="middle" x="437" y="-499.25" font-family="Arial" font-size="14.00" fill="white">barney_conversational prompt template</text>
</g>
<!-- T1 -->
<g id="node2" class="node">
<title>T1</title>
<path fill="#2196f3" stroke="black" d="M261.5,-448.95C261.5,-448.95 94.5,-448.95 94.5,-448.95 88.5,-448.95 82.5,-442.95 82.5,-436.95 82.5,-436.95 82.5,-424.95 82.5,-424.95 82.5,-418.95 88.5,-412.95 94.5,-412.95 94.5,-412.95 261.5,-412.95 261.5,-412.95 267.5,-412.95 273.5,-418.95 273.5,-424.95 273.5,-424.95 273.5,-436.95 273.5,-436.95 273.5,-442.95 267.5,-448.95 261.5,-448.95"/>
<text text-anchor="middle" x="178" y="-427.25" font-family="Arial" font-size="14.00" fill="white">Your name is {{robot_name}}</text>
</g>
<!-- T&#45;&gt;T1 -->
<g id="edge1" class="edge">
<title>T&#45;&gt;T1</title>
<path fill="none" stroke="black" d="M373.97,-484.92C336.84,-474.88 289.7,-462.14 250.97,-451.67"/>
<polygon fill="black" stroke="black" points="251.88,-448.29 241.31,-449.06 250.05,-455.05 251.88,-448.29"/>
</g>
<!-- T2 -->
<g id="node3" class="node">
<title>T2</title>
<path fill="#2196f3" stroke="black" d="M420,-448.95C420,-448.95 304,-448.95 304,-448.95 298,-448.95 292,-442.95 292,-436.95 292,-436.95 292,-424.95 292,-424.95 292,-418.95 298,-412.95 304,-412.95 304,-412.95 420,-412.95 420,-412.95 426,-412.95 432,-418.95 432,-424.95 432,-424.95 432,-436.95 432,-436.95 432,-442.95 426,-448.95 420,-448.95"/>
<text text-anchor="middle" x="362" y="-427.25" font-family="Arial" font-size="14.00" fill="white">{{robot_capabilities}}</text>
</g>
<!-- T&#45;&gt;T2 -->
<g id="edge2" class="edge">
<title>T&#45;&gt;T2</title>
<path fill="none" stroke="black" d="M418.46,-484.65C409.2,-476 397.84,-465.4 387.74,-455.98"/>
<polygon fill="black" stroke="black" points="390.02,-453.32 380.33,-449.06 385.25,-458.44 390.02,-453.32"/>
</g>
<!-- T3 -->
<g id="node4" class="node">
<title>T3</title>
<path fill="#2196f3" stroke="black" d="M562,-448.95C562,-448.95 462,-448.95 462,-448.95 456,-448.95 450,-442.95 450,-436.95 450,-436.95 450,-424.95 450,-424.95 450,-418.95 456,-412.95 462,-412.95 462,-412.95 562,-412.95 562,-412.95 568,-412.95 574,-418.95 574,-424.95 574,-424.95 574,-436.95 574,-436.95 574,-442.95 568,-448.95 562,-448.95"/>
<text text-anchor="middle" x="512" y="-427.25" font-family="Arial" font-size="14.00" fill="white">{{cmd_response}}</text>
</g>
<!-- T&#45;&gt;T3 -->
<g id="edge3" class="edge">
<title>T&#45;&gt;T3</title>
<path fill="none" stroke="black" d="M455.54,-484.65C464.8,-476 476.16,-465.4 486.26,-455.98"/>
<polygon fill="black" stroke="black" points="488.75,-458.44 493.67,-449.06 483.98,-453.32 488.75,-458.44"/>
</g>
<!-- T4 -->
<g id="node5" class="node">
<title>T4</title>
<path fill="#2196f3" stroke="black" d="M717.5,-448.95C717.5,-448.95 604.5,-448.95 604.5,-448.95 598.5,-448.95 592.5,-442.95 592.5,-436.95 592.5,-436.95 592.5,-424.95 592.5,-424.95 592.5,-418.95 598.5,-412.95 604.5,-412.95 604.5,-412.95 717.5,-412.95 717.5,-412.95 723.5,-412.95 729.5,-418.95 729.5,-424.95 729.5,-424.95 729.5,-436.95 729.5,-436.95 729.5,-442.95 723.5,-448.95 717.5,-448.95"/>
<text text-anchor="middle" x="661" y="-427.25" font-family="Arial" font-size="14.00" fill="white">{{personality_traits}}</text>
</g>
<!-- T&#45;&gt;T4 -->
<g id="edge4" class="edge">
<title>T&#45;&gt;T4</title>
<path fill="none" stroke="black" d="M491.51,-484.92C523.22,-475.01 563.36,-462.47 596.61,-452.07"/>
<polygon fill="black" stroke="black" points="597.74,-455.39 606.25,-449.06 595.66,-448.71 597.74,-455.39"/>
</g>
<!-- E1 -->
<g id="node6" class="node">
<title>E1</title>
<path fill="#37474f" stroke="black" d="M147.5,-342.45C147.5,-342.45 28.5,-342.45 28.5,-342.45 22.5,-342.45 16.5,-336.45 16.5,-330.45 16.5,-330.45 16.5,-318.45 16.5,-318.45 16.5,-312.45 22.5,-306.45 28.5,-306.45 28.5,-306.45 147.5,-306.45 147.5,-306.45 153.5,-306.45 159.5,-312.45 159.5,-318.45 159.5,-318.45 159.5,-330.45 159.5,-330.45 159.5,-336.45 153.5,-342.45 147.5,-342.45"/>
<text text-anchor="middle" x="88" y="-320.75" font-family="Arial" font-size="14.00" fill="white">Your name is Barney</text>
</g>
<!-- T1&#45;&gt;E1 -->
<g id="edge5" class="edge">
<title>T1&#45;&gt;E1</title>
<path fill="none" stroke="black" d="M163.14,-412.7C148.55,-395.76 126.13,-369.73 109.58,-350.51"/>
<polygon fill="black" stroke="black" points="112.06,-348.03 102.88,-342.74 106.76,-352.6 112.06,-348.03"/>
</g>
<!-- E2 -->
<g id="node7" class="node">
<title>E2</title>
<path fill="#37474f" stroke="black" d="M424,-350.95C424,-350.95 190,-350.95 190,-350.95 184,-350.95 178,-344.95 178,-338.95 178,-338.95 178,-309.95 178,-309.95 178,-303.95 184,-297.95 190,-297.95 190,-297.95 424,-297.95 424,-297.95 430,-297.95 436,-303.95 436,-309.95 436,-309.95 436,-338.95 436,-338.95 436,-344.95 430,-350.95 424,-350.95"/>
<text text-anchor="middle" x="307" y="-335.75" font-family="Arial" font-size="14.00" fill="white">You are a real skid&#45;steer robot</text>
<text text-anchor="middle" x="307" y="-320.75" font-family="Arial" font-size="14.00" fill="white">that can move around and you have</text>
<text text-anchor="middle" x="307" y="-305.75" font-family="Arial" font-size="14.00" fill="white">one 4dof arm that can move a camera...</text>
</g>
<!-- T2&#45;&gt;E2 -->
<g id="edge6" class="edge">
<title>T2&#45;&gt;E2</title>
<path fill="none" stroke="black" d="M352.92,-412.7C345.38,-398.38 334.43,-377.58 325.12,-359.88"/>
<polygon fill="black" stroke="black" points="328.18,-358.17 320.42,-350.95 321.98,-361.43 328.18,-358.17"/>
</g>
<!-- E3 -->
<g id="node8" class="node">
<title>E3</title>
<path fill="#ff9800" stroke="black" d="M668,-365.95C668,-365.95 466,-365.95 466,-365.95 460,-365.95 454,-359.95 454,-353.95 454,-353.95 454,-294.95 454,-294.95 454,-288.95 460,-282.95 466,-282.95 466,-282.95 668,-282.95 668,-282.95 674,-282.95 680,-288.95 680,-294.95 680,-294.95 680,-353.95 680,-353.95 680,-359.95 674,-365.95 668,-365.95"/>
<text text-anchor="middle" x="567" y="-350.75" font-family="Arial" font-size="14.00">Infer or use synonyms to map user</text>
<text text-anchor="middle" x="567" y="-335.75" font-family="Arial" font-size="14.00">requests to valid COMMANDS...</text>
<text text-anchor="middle" x="567" y="-320.75" font-family="Arial" font-size="14.00">{{arm_presets}}</text>
<text text-anchor="middle" x="567" y="-305.75" font-family="Arial" font-size="14.00">{{bearing_presets}}</text>
<text text-anchor="middle" x="567" y="-290.75" font-family="Arial" font-size="14.00">{{motion_commands}}</text>
</g>
<!-- T3&#45;&gt;E3 -->
<g id="edge7" class="edge">
<title>T3&#45;&gt;E3</title>
<path fill="none" stroke="black" d="M521.08,-412.7C526.49,-402.43 533.65,-388.82 540.7,-375.42"/>
<polygon fill="black" stroke="black" points="543.99,-376.7 545.55,-366.22 537.79,-373.43 543.99,-376.7"/>
</g>
<!-- E4 -->
<g id="node9" class="node">
<title>E4</title>
<path fill="#37474f" stroke="black" d="M917.5,-343.45C917.5,-343.45 710.5,-343.45 710.5,-343.45 704.5,-343.45 698.5,-337.45 698.5,-331.45 698.5,-331.45 698.5,-317.45 698.5,-317.45 698.5,-311.45 704.5,-305.45 710.5,-305.45 710.5,-305.45 917.5,-305.45 917.5,-305.45 923.5,-305.45 929.5,-311.45 929.5,-317.45 929.5,-317.45 929.5,-331.45 929.5,-331.45 929.5,-337.45 923.5,-343.45 917.5,-343.45"/>
<text text-anchor="middle" x="814" y="-328.25" font-family="Arial" font-size="14.00" fill="white">You are friendly but concise.</text>
<text text-anchor="middle" x="814" y="-313.25" font-family="Arial" font-size="14.00" fill="white">Provide information and assistance.</text>
</g>
<!-- T4&#45;&gt;E4 -->
<g id="edge8" class="edge">
<title>T4&#45;&gt;E4</title>
<path fill="none" stroke="black" d="M685.92,-412.93C711.25,-395.63 750.68,-368.7 779.11,-349.29"/>
<polygon fill="black" stroke="black" points="781.26,-352.05 787.55,-343.52 777.32,-346.27 781.26,-352.05"/>
</g>
<!-- G -->
<g id="node13" class="node">
<title>G</title>
<ellipse fill="#00bcd4" stroke="black" cx="459" cy="-53.48" rx="139.1" ry="37.45"/>
<text text-anchor="middle" x="459" y="-64.78" font-family="Arial" font-size="14.00" fill="white">Complete system prompt with</text>
<text text-anchor="middle" x="459" y="-49.78" font-family="Arial" font-size="14.00" fill="white">all macros fully expanded</text>
<text text-anchor="middle" x="459" y="-34.78" font-family="Arial" font-size="14.00" fill="white">~2000 tokens</text>
</g>
<!-- E1&#45;&gt;G -->
<g id="edge12" class="edge">
<title>E1&#45;&gt;G</title>
<path fill="none" stroke="black" d="M101.34,-306.27C130.57,-269.58 203.92,-182.64 282,-129.95 307.13,-113 336.68,-98.58 364.37,-87.03"/>
<polygon fill="black" stroke="black" points="365.74,-90.25 373.67,-83.22 363.09,-83.77 365.74,-90.25"/>
</g>
<!-- E2&#45;&gt;G -->
<g id="edge13" class="edge">
<title>E2&#45;&gt;G</title>
<path fill="none" stroke="black" d="M299.01,-297.65C288.45,-258.21 274.7,-182.06 307,-129.95 318.71,-111.06 336.72,-96.75 356.3,-85.96"/>
<polygon fill="black" stroke="black" points="358.13,-88.95 365.39,-81.24 354.9,-82.74 358.13,-88.95"/>
</g>
<!-- F1 -->
<g id="node10" class="node">
<title>F1</title>
<path fill="#4caf50" stroke="black" d="M789,-235.95C789,-235.95 619,-235.95 619,-235.95 613,-235.95 607,-229.95 607,-223.95 607,-223.95 607,-149.95 607,-149.95 607,-143.95 613,-137.95 619,-137.95 619,-137.95 789,-137.95 789,-137.95 795,-137.95 801,-143.95 801,-149.95 801,-149.95 801,-223.95 801,-223.95 801,-229.95 795,-235.95 789,-235.95"/>
<text text-anchor="middle" x="704" y="-220.75" font-family="Arial" font-size="14.00" fill="white">Arm Positions:</text>
<text text-anchor="middle" x="704" y="-205.75" font-family="Arial" font-size="14.00" fill="white">bumper &#45; arm folded low</text>
<text text-anchor="middle" x="704" y="-190.75" font-family="Arial" font-size="14.00" fill="white">tenhut &#45; vertical stance</text>
<text text-anchor="middle" x="704" y="-175.75" font-family="Arial" font-size="14.00" fill="white">lookup &#45; raised to face person</text>
<text text-anchor="middle" x="704" y="-160.75" font-family="Arial" font-size="14.00" fill="white">lookout &#45; elevated forward</text>
<text text-anchor="middle" x="704" y="-145.75" font-family="Arial" font-size="14.00" fill="white">reach &#45; extended forward</text>
</g>
<!-- E3&#45;&gt;F1 -->
<g id="edge9" class="edge">
<title>E3&#45;&gt;F1</title>
<path fill="none" stroke="black" d="M608.1,-282.8C620.61,-270.43 634.57,-256.63 647.88,-243.46"/>
<polygon fill="black" stroke="black" points="650.55,-245.74 655.2,-236.22 645.63,-240.76 650.55,-245.74"/>
</g>
<!-- F2 -->
<g id="node11" class="node">
<title>F2</title>
<path fill="#4caf50" stroke="black" d="M577,-235.95C577,-235.95 485,-235.95 485,-235.95 479,-235.95 473,-229.95 473,-223.95 473,-223.95 473,-149.95 473,-149.95 473,-143.95 479,-137.95 485,-137.95 485,-137.95 577,-137.95 577,-137.95 583,-137.95 589,-143.95 589,-149.95 589,-149.95 589,-223.95 589,-223.95 589,-229.95 583,-235.95 577,-235.95"/>
<text text-anchor="middle" x="531" y="-220.75" font-family="Arial" font-size="14.00" fill="white">Bearing Presets:</text>
<text text-anchor="middle" x="531" y="-205.75" font-family="Arial" font-size="14.00" fill="white">left: &#45;45°</text>
<text text-anchor="middle" x="531" y="-190.75" font-family="Arial" font-size="14.00" fill="white">right: 45°</text>
<text text-anchor="middle" x="531" y="-175.75" font-family="Arial" font-size="14.00" fill="white">forward: 0°</text>
<text text-anchor="middle" x="531" y="-160.75" font-family="Arial" font-size="14.00" fill="white">back: 180°</text>
<text text-anchor="middle" x="531" y="-145.75" font-family="Arial" font-size="14.00" fill="white">full&#45;left: &#45;90°</text>
</g>
<!-- E3&#45;&gt;F2 -->
<g id="edge10" class="edge">
<title>E3&#45;&gt;F2</title>
<path fill="none" stroke="black" d="M556.2,-282.8C553.13,-271.23 549.72,-258.41 546.43,-246.03"/>
<polygon fill="black" stroke="black" points="549.77,-244.99 543.82,-236.22 543.01,-246.78 549.77,-244.99"/>
</g>
<!-- F3 -->
<g id="node12" class="node">
<title>F3</title>
<path fill="#4caf50" stroke="black" d="M443,-220.95C443,-220.95 331,-220.95 331,-220.95 325,-220.95 319,-214.95 319,-208.95 319,-208.95 319,-164.95 319,-164.95 319,-158.95 325,-152.95 331,-152.95 331,-152.95 443,-152.95 443,-152.95 449,-152.95 455,-158.95 455,-164.95 455,-164.95 455,-208.95 455,-208.95 455,-214.95 449,-220.95 443,-220.95"/>
<text text-anchor="middle" x="387" y="-205.75" font-family="Arial" font-size="14.00" fill="white">Motion Commands:</text>
<text text-anchor="middle" x="387" y="-190.75" font-family="Arial" font-size="14.00" fill="white">stop, follow, track</text>
<text text-anchor="middle" x="387" y="-175.75" font-family="Arial" font-size="14.00" fill="white">sleep, wake, move</text>
<text text-anchor="middle" x="387" y="-160.75" font-family="Arial" font-size="14.00" fill="white">turn, pan</text>
</g>
<!-- E3&#45;&gt;F3 -->
<g id="edge11" class="edge">
<title>E3&#45;&gt;F3</title>
<path fill="none" stroke="black" d="M487.32,-282.9C479.23,-277.85 471.31,-272.51 464,-266.95 449.34,-255.81 434.84,-241.9 422.43,-228.86"/>
<polygon fill="black" stroke="black" points="424.77,-226.24 415.39,-221.32 419.65,-231.02 424.77,-226.24"/>
</g>
<!-- E4&#45;&gt;G -->
<g id="edge14" class="edge">
<title>E4&#45;&gt;G</title>
<path fill="none" stroke="black" d="M820.61,-305.25C832.95,-267.76 854.66,-181.16 813,-129.95 786.01,-96.78 687.65,-77.55 601.44,-66.81"/>
<polygon fill="black" stroke="black" points="601.61,-63.3 591.26,-65.57 600.77,-70.25 601.61,-63.3"/>
</g>
<!-- F1&#45;&gt;G -->
<g id="edge15" class="edge">
<title>F1&#45;&gt;G</title>
<path fill="none" stroke="black" d="M614.51,-137.93C586.26,-122.77 555.49,-106.25 528.82,-91.95"/>
<polygon fill="black" stroke="black" points="530.41,-88.83 519.95,-87.18 527.1,-95 530.41,-88.83"/>
</g>
<!-- F2&#45;&gt;G -->
<g id="edge16" class="edge">
<title>F2&#45;&gt;G</title>
<path fill="none" stroke="black" d="M504.6,-137.74C497.82,-125.36 490.55,-112.09 483.85,-99.85"/>
<polygon fill="black" stroke="black" points="486.73,-97.82 478.86,-90.73 480.59,-101.19 486.73,-97.82"/>
</g>
<!-- F3&#45;&gt;G -->
<g id="edge17" class="edge">
<title>F3&#45;&gt;G</title>
<path fill="none" stroke="black" d="M405.17,-152.78C413.97,-136.71 424.67,-117.17 434.2,-99.76"/>
<polygon fill="black" stroke="black" points="437.33,-101.33 439.06,-90.88 431.19,-97.97 437.33,-101.33"/>
</g>
</g>
</svg>
